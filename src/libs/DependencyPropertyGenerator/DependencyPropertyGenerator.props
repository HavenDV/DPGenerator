<Project>

  <ItemGroup>
    <CompilerVisibleProperty Include="DependencyPropertyGenerator_DebuggerBreak"/>
    <CompilerVisibleProperty Include="DependencyPropertyGenerator_DefineConstants"/>
    <CompilerVisibleProperty Include="RoutedEventGenerator_DebuggerBreak"/>
    <CompilerVisibleProperty Include="RoutedEventGenerator_DefineConstants"/>
    <CompilerVisibleProperty Include="WeakEventGenerator_DebuggerBreak"/>
    <CompilerVisibleProperty Include="WeakEventGenerator_DefineConstants"/>
    <CompilerVisibleProperty Include="UseWPF"/>
    <CompilerVisibleProperty Include="UseWinUI"/>
    <CompilerVisibleProperty Include="UseMaui"/>
    <CompilerVisibleProperty Include="BuildingProject" />
    <CompilerVisibleProperty Include="DesignTimeBuild" />
  </ItemGroup>

  <Target Name="CreateDefineConstants" BeforeTargets="GenerateMSBuildEditorConfigFileShouldRun;GenerateMSBuildEditorConfigFileCore">

    <PropertyGroup>
      <DependencyPropertyGenerator_DefineConstants>$(DefineConstants.Replace(';',','))</DependencyPropertyGenerator_DefineConstants>
      <RoutedEventGenerator_DefineConstants>$(DefineConstants.Replace(';',','))</RoutedEventGenerator_DefineConstants>
      <WeakEventGenerator_DefineConstants>$(DefineConstants.Replace(';',','))</WeakEventGenerator_DefineConstants>
    </PropertyGroup>

  </Target>

  <PropertyGroup>
    <DependencyPropertyGenerator_EmbedAttributes>false</DependencyPropertyGenerator_EmbedAttributes>
    <DependencyPropertyGenerator_EmbeddedAttributesVisible>true</DependencyPropertyGenerator_EmbeddedAttributesVisible>
  </PropertyGroup>

  <ItemGroup Condition="$(DependencyPropertyGenerator_EmbedAttributes)">
    <Compile Include="$(MSBuildThisFileDirectory)*.cs" Visible="$(DependencyPropertyGenerator_EmbeddedAttributesVisible)" />
  </ItemGroup>
  
</Project>